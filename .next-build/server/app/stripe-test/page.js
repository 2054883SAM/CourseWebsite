(()=>{var e={};e.id=3005,e.ids=[3005],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6906:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(65239),n=r(48088),i=r(88170),o=r.n(i),a=r(30893),u={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>a[e]);r.d(t,u);let l={children:["",{children:["stripe-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,17746)),"C:\\Users\\Konan\\Documents\\MONSPACE\\CourseWebsite-1\\app\\stripe-test\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\Users\\Konan\\Documents\\MONSPACE\\CourseWebsite-1\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Konan\\Documents\\MONSPACE\\CourseWebsite-1\\app\\stripe-test\\page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/stripe-test/page",pathname:"/stripe-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},17746:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(37413),n=r(42159);function i(){return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"mb-6 text-2xl font-bold",children:"Stripe Subscription Test"}),(0,s.jsx)("p",{className:"mb-4 text-sm text-gray-600",children:"This page will create a sandbox Checkout session for a recurring subscription using your configured test price ID."}),(0,s.jsx)(n.default,{})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33592:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var s,n=r(60687),i=r(43210),o="basil",a="https://js.stripe.com",u="".concat(a,"/").concat(o,"/stripe.js"),l=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,c=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,d=function(){for(var e=document.querySelectorAll('script[src^="'.concat(a,'"]')),t=0;t<e.length;t++){var r,s=e[t];if(r=s.src,l.test(r)||c.test(r))return s}return null},p=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(u).concat(t);var s=document.head||document.body;if(!s)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},m=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:t})},h=null,f=null,x=null,v=function(e,t,r){if(null===e)return null;var s,n=t[0].match(/^pk_test/),i=3===(s=e.version)?"v3":s;n&&i!==o&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var a=e.apply(void 0,t);return m(a,r),a},b=!1,w=function(){return s?s:s=(null!==h?h:(h=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var r,s=d();s?s&&null!==x&&null!==f&&(s.removeEventListener("load",x),s.removeEventListener("error",f),null==(r=s.parentNode)||r.removeChild(s),s=p(null)):s=p(null),x=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},f=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},s.addEventListener("load",x),s.addEventListener("error",f)}catch(e){t(e);return}})).catch(function(e){return h=null,Promise.reject(e)})).catch(function(e){return s=null,Promise.reject(e)})};Promise.resolve().then(function(){return w()}).catch(function(e){b||console.warn(e)});var g=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];b=!0;var s=Date.now();return w().then(function(e){return v(e,t,s)})};function y(){let[e,t]=(0,i.useState)(!1),[r,s]=(0,i.useState)(null),o=async()=>{try{t(!0),s(null);let e=await g("pk_test_51Rzl0zQiZZmqQUE9LVo5Ss7KYcS7QAKxzir5H6O2dCuaJbN7s4tEr6CZotZjhfIbGz56aSFhaIbJLZS9ZEvBES6w00a49lznJ2");if(!e){s("Failed to initialize Stripe.js"),t(!1);return}let r=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:"price_1RzmIuQiZZmqQUE9bMreaTef"})});if(!r.ok){let e=await r.json().catch(()=>({}));throw Error(e.error||"Failed to create session")}let n=await r.json();if(n.url){window.location.href=n.url;return}let i=await e.redirectToCheckout({sessionId:n.id});i.error&&s(i.error.message||"Redirect failed")}catch(e){s(e.message||"Something went wrong")}finally{t(!1)}};return(0,n.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[(0,n.jsx)("h2",{className:"mb-4 text-lg font-semibold",children:"Start Test Subscription"}),(0,n.jsx)("p",{className:"mb-4 text-sm text-gray-600",children:"Uses Stripe sandbox mode automatically when you use test keys."}),(0,n.jsx)("button",{disabled:e,onClick:o,className:`rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 ${e?"opacity-60":""}`,children:e?"Creating sessionâ€¦":"Subscribe (Test)"}),r&&(0,n.jsx)("p",{className:"mt-3 text-sm text-red-600",children:r}),(0,n.jsx)("div",{className:"mt-6 rounded border border-yellow-200 bg-yellow-50 p-4 text-sm text-yellow-800",children:(0,n.jsx)("p",{children:"Use Stripe test card 4242 4242 4242 4242, any future date, any CVC. Subscriptions will trigger test webhooks if configured."})})]})}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35134:(e,t,r)=>{Promise.resolve().then(r.bind(r,33592))},39862:(e,t,r)=>{Promise.resolve().then(r.bind(r,42159))},42159:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Konan\\\\Documents\\\\MONSPACE\\\\CourseWebsite-1\\\\app\\\\stripe-test\\\\stripe-test-client.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Konan\\Documents\\MONSPACE\\CourseWebsite-1\\app\\stripe-test\\stripe-test-client.tsx","default")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(31658);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,9278,1658,9679],()=>r(6906));module.exports=s})();