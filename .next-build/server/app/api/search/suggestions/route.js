(()=>{var e={};e.id=7308,e.ids=[7308],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},15062:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>q,routeModule:()=>_,serverHooks:()=>S,workAsyncStorage:()=>b,workUnitAsyncStorage:()=>v});var s={};r.r(s),r.d(s,{GET:()=>f});var i=r(96559),a=r(48088),o=r(37719),n=r(32190),c=r(30645);let u="https://qrowzznnnarfogfbnnow.supabase.co",p="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFyb3d6em5ubmFyZm9nZmJubm93Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNjg1MzUsImV4cCI6MjA2NzY0NDUzNX0.MkCeFSLoOyGl-y1_eZTXTXXV8hGOJM7WuBV7gvLc_rI";if(!u)throw Error("Missing env.NEXT_PUBLIC_SUPABASE_URL");if(!p)throw Error("Missing env.NEXT_PUBLIC_SUPABASE_ANON_KEY");let l=(()=>{if(!u)return"default";let e=u.match(/https:\/\/([a-z0-9-]+)\.supabase\.co/);return e?e[1]:"default"})();console.log("Supabase project ref for cookies:",l);let d={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:`sb-${l}-auth-token`,cookieOptions:{name:`sb-${l}-auth-token`,path:"/",sameSite:"Lax",secure:!0,maxAge:604800}}};console.log("Supabase client initialized with cookie config:",{cookieName:d.auth.cookieOptions.name,cookiePath:d.auth.cookieOptions.path,detectSessionInUrl:d.auth.detectSessionInUrl,persistSession:d.auth.persistSession});let m=(0,c.UU)(u,p,d),h=[{id:"1",role:"admin",name:"Admin User",email:"admin@example.com",photo_url:"https://i.pravatar.cc/150?u=admin@example.com",created_at:"2023-01-01T00:00:00Z"},{id:"2",role:"teacher",name:"Jane Smith",email:"jane@example.com",photo_url:"https://i.pravatar.cc/150?u=jane@example.com",created_at:"2023-01-02T00:00:00Z"},{id:"3",role:"teacher",name:"John Doe",email:"john@example.com",photo_url:"https://i.pravatar.cc/150?u=john@example.com",created_at:"2023-01-03T00:00:00Z"},{id:"4",role:"student",name:"Student User",email:"student@example.com",photo_url:"https://i.pravatar.cc/150?u=student@example.com",created_at:"2023-01-04T00:00:00Z"}],g=[{id:"1",title:"Grammaire fran\xe7aise avanc\xe9e",description:"Ma\xeetrisez les r\xe8gles de grammaire fran\xe7aise avec des exercices pratiques.",thumbnail_url:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97",categorie:"Fran\xe7ais",creator_id:"2",created_at:"2023-02-01T00:00:00Z",creator:h.find(e=>"2"===e.id),section_count:3},{id:"2",title:"Orthographe et conjugaison",description:"Perfectionnez votre orthographe et ma\xeetrisez les temps de conjugaison.",thumbnail_url:"https://images.unsplash.com/photo-1633356122102-3fe601e05bd2",categorie:"Fran\xe7ais",creator_id:"2",created_at:"2023-02-15T00:00:00Z",creator:h.find(e=>"2"===e.id),section_count:4},{id:"3",title:"Math\xe9matiques 6e ann\xe9e",description:"Fractions, d\xe9cimaux, g\xe9om\xe9trie et r\xe9solution de probl\xe8mes.",thumbnail_url:"https://images.unsplash.com/photo-1618477247222-acbdb0e159b3",categorie:"Math\xe9matiques",creator_id:"3",created_at:"2023-03-01T00:00:00Z",creator:h.find(e=>"3"===e.id),section_count:5},{id:"4",title:"Sciences de la nature",description:"D\xe9couverte du vivant, de la mati\xe8re et des ph\xe9nom\xe8nes naturels.",thumbnail_url:"https://images.unsplash.com/photo-1526379095098-d400fd0bf935",categorie:"Science et technologie",creator_id:"3",created_at:"2023-03-15T00:00:00Z",creator:h.find(e=>"3"===e.id),section_count:4},{id:"5",title:"Histoire du Qu\xe9bec",description:"D\xe9couvrez l'histoire fascinante du Qu\xe9bec, de la Nouvelle-France \xe0 aujourd'hui.",thumbnail_url:"https://images.unsplash.com/photo-1593720213428-28a5b9e94613",categorie:"G\xe9ographie et histoire",creator_id:"2",created_at:"2023-04-01T00:00:00Z",creator:h.find(e=>"2"===e.id),section_count:6}],x=()=>!1;async function f(e){try{let t=new URL(e.url).searchParams.get("q")||"";if(t.length<2)return n.NextResponse.json({suggestions:[]});let r=[];if(x())r=g.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())).map(e=>e.title);else{let{data:e,error:s}=await m.from("courses").select("title").ilike("title",`%${t}%`).limit(5);if(s)throw s;e&&(r=e.map(e=>e.title))}return n.NextResponse.json({suggestions:r})}catch(e){return console.error("Error fetching search suggestions:",e),n.NextResponse.json({error:"Failed to fetch search suggestions"},{status:500})}}let _=new i.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/search/suggestions/route",pathname:"/api/search/suggestions",filename:"route",bundlePath:"app/api/search/suggestions/route"},resolvedPagePath:"C:\\Users\\Konan\\Documents\\MONSPACE\\CourseWebsite-1\\app\\api\\search\\suggestions\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:b,workUnitAsyncStorage:v,serverHooks:S}=_;function q(){return(0,o.patchFetch)({workAsyncStorage:b,workUnitAsyncStorage:v})}},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47990:()=>{},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,580,6570,645],()=>r(15062));module.exports=s})();