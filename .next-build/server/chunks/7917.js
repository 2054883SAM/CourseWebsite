"use strict";exports.id=7917,exports.ids=[7917],exports.modules={20337:(e,r,t)=>{t.d(r,{NJ:()=>o,Ox:()=>d,W9:()=>l,YG:()=>n,bW:()=>i});var s=t(47828);function a(e,r){if(console.error(`Error while trying to ${r}:`,e),e instanceof Error&&"Request timed out"===e.message)throw Error(`Taking longer than expected to ${r}. Please check your connection and try again.`);throw e}async function i(){try{let{data:e,error:r}=await s.N.from("courses").select("categorie").not("categorie","is",null);if(r)throw r;if(!e)return[];let t=e.reduce((e,r)=>(r.categorie&&(e[r.categorie]=(e[r.categorie]||0)+1),e),{});return Object.entries(t).map(([e,r])=>({categorie:e,count:r}))}catch(e){a(e,"load categories")}}async function o(e){try{let{query:r="",creator_id:t,category:a,sort_by:i="created_at",sort_order:o="desc",page:n=1,limit:l=10}=e||{},d=(n-1)*l,c=s.N.from("courses").select("*, users!creator_id(name, photo_url, bio)");r&&(c=c.ilike("title",`%${r}%`)),t&&(c=c.eq("creator_id",t)),a&&(c=c.eq("categorie",a)),c=c.order(i,{ascending:"asc"===o}).range(d,d+l-1);let{data:u,error:m}=await c;if(m)throw m;if(!u)return[];return u.map(e=>({...e,creator:e.users}))}catch(e){a(e,"load courses")}}async function n(e){try{let{data:r,error:t}=await s.N.from("courses").select("*, users!creator_id(id, name, email, photo_url, role, bio)").eq("id",e).single();if(t)throw t;if(!r)return null;let{count:a}=await s.N.from("sections").select("*",{count:"exact",head:!0}).eq("course_id",e);return{...r,creator:r.users,section_count:a||0}}catch(r){console.error(`Error fetching course with ID ${e}:`,r),a(r,"load course")}}async function l(e){try{let{data:r,error:t}=await s.N.from("sections").select("*").eq("course_id",e).order("section_number",{ascending:!0});if(t)throw t;if(!r)return[];return r.map(e=>({id:e.id,course_id:e.course_id,section_number:e.section_number,title:e.title,duration:e.duration,playback_id:e.playback_id,chapters:e.chapters?Array.isArray(e.chapters)?e.chapters:JSON.parse(e.chapters):[],questions:e.questions?Array.isArray(e.questions)?e.questions:JSON.parse(e.questions):[],created_at:e.created_at}))}catch(r){console.error(`Error fetching sections for course ${e}:`,r),a(r,"load course sections")}}async function d(e){try{let{data:r,error:t}=await s.N.from("sections").select("*").eq("id",e).single();if(t)throw t;if(!r)return null;return{id:r.id,course_id:r.course_id,section_number:r.section_number,title:r.title,duration:r.duration,playback_id:r.playback_id,chapters:r.chapters?Array.isArray(r.chapters)?r.chapters:JSON.parse(r.chapters):[],questions:r.questions?Array.isArray(r.questions)?r.questions:JSON.parse(r.questions):[],created_at:r.created_at}}catch(r){console.error(`Error fetching section with ID ${e}:`,r),a(r,"load section")}}},46055:(e,r,t)=>{t.r(r),t.d(r,{default:()=>a});var s=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},57958:(e,r,t)=>{function s(e){return{id:e.id,title:e.title,startTime:e.start_time,duration:e.duration,description:e.description,thumbnail:e.thumbnail_url}}function a(e){return!!e&&"object"==typeof e&&"string"==typeof e.id&&"string"==typeof e.title&&"number"==typeof e.start_time&&(void 0===e.duration||"number"==typeof e.duration)&&(void 0===e.description||"string"==typeof e.description)&&(void 0===e.thumbnail_url||"string"==typeof e.thumbnail_url)}function i(e){return!!e&&"object"==typeof e&&"string"==typeof e.id&&"string"==typeof e.title&&"number"==typeof e.startTime&&(void 0===e.duration||"number"==typeof e.duration)&&(void 0===e.description||"string"==typeof e.description)&&(void 0===e.thumbnail||"string"==typeof e.thumbnail)&&(void 0===e.flashcard||"boolean"==typeof e.flashcard)}function o(e){try{let r=e;if("string"==typeof r&&(r=JSON.parse(r)),!Array.isArray(r))return[];if(r.every(i))return r;if(r.every(a))return r.map(s);let t=[];for(let e of r)i(e)?t.push(e):a(e)&&t.push(s(e));return t}catch(e){return[]}}t.d(r,{UQ:()=>o})},79039:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var s=t(60687),a=t(43210),i=t(16189),o=t(86082);t(98294),t(20337),t(47828);let n=e=>{if(e<1)return"< 1 min";if(e<60)return`${Math.round(e)} min`;let r=Math.floor(e/60),t=Math.round(e%60);return 0===t?`${r}h`:`${r}h ${t}min`},l=({sections:e,courseId:r,className:t="",isLoading:a=!1,progress:o=[],onSectionClick:l})=>{let d=(0,i.useRouter)();if(!e||0===e.length)return(0,s.jsx)("div",{className:`p-8 text-center text-gray-500 ${t}`,children:(0,s.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,s.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700",children:(0,s.jsx)("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,s.jsx)("h3",{className:"mb-2 text-lg font-medium text-gray-900 dark:text-white",children:"No sections available"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"This course doesn't have any video sections yet."})]})});let c=e=>o.find(r=>r.sectionId===e)||{sectionId:e,completed:!1,progressPercentage:0},u=r=>{if(0===r)return!0;let t=e[r-1];return!t||!0===c(t.id).quizPassed},m=(e,t)=>{if(!u(t))return void alert("Vous devez terminer la section pr\xe9c\xe9dente avec succ\xe8s (70% ou plus au quiz) pour acc\xe9der \xe0 cette section.");l?l(e):d.push(`/my-learning/${r}/section/${e.id}`)};return(0,s.jsxs)("div",{className:`rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800 ${t}`,children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 p-6 dark:border-gray-700",children:[(0,s.jsxs)("h3",{className:"flex items-center text-xl font-semibold text-gray-900 dark:text-white",children:[(0,s.jsx)("svg",{className:"mr-3 h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Course Content"]}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:[e.length," section",1!==e.length?"s":""," • ",n(e.reduce((e,r)=>e+(r.duration||0),0))," ","total"]}),o.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"mb-2 flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{children:"Overall Progress"}),(0,s.jsxs)("span",{children:[Math.round(o.filter(e=>e.completed).length/e.length*100),"%"]})]}),(0,s.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200 dark:bg-gray-700",children:(0,s.jsx)("div",{className:"h-2 rounded-full bg-green-500 transition-all duration-300",style:{width:`${o.filter(e=>e.completed).length/e.length*100}%`}})})]})]}),(0,s.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map((e,r)=>{let t=c(e.id),i=t.completed,o=t.progressPercentage,l=u(r),d=t.quizScore,h=t.quizPassed;return(0,s.jsx)("div",{"data-testid":`section-${e.id}`,className:`
                transition-colors duration-200
                ${l?"hover:bg-gray-50 dark:hover:bg-gray-700/50":"opacity-50"}
                ${i?"bg-green-50 dark:bg-green-900/10":""}
                ${!l?"bg-gray-100 dark:bg-gray-800":""}
              `,children:(0,s.jsx)("button",{"data-testid":`section-button-${e.id}`,onClick:()=>m(e,r),disabled:a||!l,className:`w-full p-6 text-left focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 ${a||!l?"cursor-not-allowed opacity-50":""}`,"aria-label":`Section ${e.section_number}: ${e.title}${!l?" (Locked)":""}`,children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,s.jsx)("span",{className:`mr-4 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full text-sm font-medium ${!l?"bg-gray-200 text-gray-500 dark:bg-gray-700 dark:text-gray-400":i?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"}`,children:l?i?(0,s.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):e.section_number:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h4",{className:`truncate text-lg font-medium ${i?"text-green-700 dark:text-green-300":"text-gray-900 dark:text-white"}`,children:e.title}),e.chapters&&e.chapters.length>0&&(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[e.chapters.length," chapter",1!==e.chapters.length?"s":""]})]})]}),o>0&&(0,s.jsxs)("div",{className:"mb-2 ml-12",children:[(0,s.jsxs)("div",{className:"mb-1 flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,s.jsxs)("span",{children:["Video Progress: ",o,"%"]}),null!=d&&(0,s.jsxs)("span",{className:`${h?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Quiz: ",d,"% ",h?"✓":"✗"]})]}),(0,s.jsx)("div",{className:"h-1.5 w-full rounded-full bg-gray-200 dark:bg-gray-700",children:(0,s.jsx)("div",{className:`h-1.5 rounded-full transition-all duration-300 ${i?"bg-green-500":"bg-blue-500"}`,style:{width:`${o}%`}})})]}),t.lastWatchedAt&&(0,s.jsxs)("p",{className:"ml-12 text-xs text-gray-400 dark:text-gray-500",children:["Last watched: ",new Date(t.lastWatchedAt).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"ml-6 flex-shrink-0 text-right",children:[(0,s.jsx)("div",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:n(e.duration||0)}),(0,s.jsx)("div",{className:`inline-flex h-10 w-10 items-center justify-center rounded-full transition-colors ${i?"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400":"bg-blue-100 text-blue-600 hover:bg-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/40"}`,children:i?(0,s.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})]})]})})},e.id)})})]})};var d=t(95057);function c(){let e=(0,i.useParams)(),r=(0,i.useRouter)(),{user:t,dbUser:n,loading:c}=(0,o.As)(),[u,m]=(0,a.useState)(null),[h,g]=(0,a.useState)([]),[x,p]=(0,a.useState)([]),[f,b]=(0,a.useState)(!0),[y,v]=(0,a.useState)(null);(0,a.useRef)(!1);let _=e.courseId;return f||c?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(d.k,{}),(0,s.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading your course content..."})]})}):y?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"max-w-md rounded-lg bg-red-50 p-6 text-center dark:bg-red-900/20",children:[(0,s.jsx)("h2",{className:"mb-4 text-xl font-semibold text-red-800 dark:text-red-400",children:"Error"}),(0,s.jsx)("p",{className:"text-red-700 dark:text-red-300",children:y})]})}):u?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("div",{className:"mb-8 rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:(0,s.jsx)("div",{className:"p-8",children:(0,s.jsxs)("div",{className:"flex items-start space-x-6",children:[u.thumbnail_url&&(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("img",{src:u.thumbnail_url,alt:u.title,className:"h-24 w-32 rounded-lg border border-gray-200 object-cover dark:border-gray-700"})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h1",{className:"mb-2 text-3xl font-bold text-gray-900 dark:text-white",children:u.title}),u.description&&(0,s.jsx)("p",{className:"mb-4 text-lg text-gray-600 dark:text-gray-300",children:u.description}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center space-x-6 text-sm text-gray-500 dark:text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"mr-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),h.length," section",1!==h.length?"s":""]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"mr-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Math.round(h.reduce((e,r)=>e+(r.duration||0),0))," ","minutes total"]}),u.creator&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"mr-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"By ",u.creator.name]})]})]})]})})}),(0,s.jsx)(l,{sections:h,courseId:_,className:"shadow-sm",progress:x.map(e=>({sectionId:e.section_id,completed:e.completed,progressPercentage:e.progress_percentage,lastWatchedAt:e.last_watched_at,quizScore:e.quiz_score,quizPassed:e.quiz_passed})),onSectionClick:e=>{try{sessionStorage.removeItem(`course_${_}`),sessionStorage.removeItem(`course_sections_${_}`)}catch(e){console.warn("Failed to clear cache:",e)}r.push(`/my-learning/${_}/section/${e.id}`)}})]})}):null}},95057:(e,r,t)=>{t.d(r,{k:()=>a});var s=t(60687);function a({size:e="medium",color:r="blue"}){return(0,s.jsx)("div",{className:`
        ${{small:"h-4 w-4 border-2",medium:"h-8 w-8 border-2",large:"h-12 w-12 border-3"}[e]}
        ${{blue:"border-blue-200 border-t-blue-600",white:"border-gray-200/30 border-t-white"}[r]}
        animate-spin rounded-full border-solid
      `,role:"status","aria-label":"Chargement",children:(0,s.jsx)("span",{className:"sr-only",children:"Chargement..."})})}},98294:(e,r,t)=>{t.d(r,{d:()=>o,e:()=>i});var s=t(29605),a=t(57958);async function i(e,r={}){if(!e)return console.log("No user ID provided"),{data:[],error:"User not authenticated",count:0};try{console.log(`Fetching enrollments for user: ${e}`);let t=(0,s.createBrowserClient)("https://qrowzznnnarfogfbnnow.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFyb3d6em5ubmFyZm9nZmJubm93Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNjg1MzUsImV4cCI6MjA2NzY0NDUzNX0.MkCeFSLoOyGl-y1_eZTXTXXV8hGOJM7WuBV7gvLc_rI"),{limit:a=50,offset:i=0,sortBy:o="enrolledAt",sortOrder:n="desc",status:l="all"}=r;console.log(`Query params: limit=${a}, offset=${i}, sortBy=${o}, sortOrder=${n}, status=${l}`);let d=t.from("enrollments").select(`
        id,
        status,
        enrolled_at,
        course:course_id (
          id,
          title,
          description,
          thumbnail_url,
          created_at,
          creator_id,
          playback_id
        )
        `,{count:"exact"}).eq("user_id",e);"all"!==l&&(d=d.eq("status",l));let{data:c,error:u,count:m}=await d.order("title"===o?"course.title":"enrolled_at",{ascending:"asc"===n}).range(i,i+a-1);if(u)return console.error("Supabase error:",u),{data:[],error:u.message,count:0};if(!c?.length)return console.log("No enrollments found for user:",e),{data:[],error:null,count:m??0};let h={};try{let r=c.map(e=>Array.isArray(e.course)?e.course[0]?.id:e.course?.id).filter(Boolean);if(r.length>0){let{data:s,error:a}=await t.from("courses_progress").select("course_id, progress, updated_at").eq("user_id",e).in("course_id",r);!a&&s&&(h=s.reduce((e,r)=>(e[r.course_id]={progress:Number(r.progress??0),updated_at:r.updated_at},e),{}))}}catch(e){console.warn("Could not fetch persistent course progress:",e)}let g=c.map(e=>{let r={id:e.id,status:e.status,enrolled_at:e.enrolled_at},t=Array.isArray(e.course)?e.course[0]:e.course,s={id:t.id,title:t.title,description:t.description,thumbnail_url:t.thumbnail_url,created_at:t.created_at,creator_id:t.creator_id,playback_id:t.playback_id},a=h[s.id]?.progress??0,i=h[s.id]?.updated_at;return 0===a,{id:s.id,title:s.title,description:s.description,thumbnail_url:s.thumbnail_url,created_at:s.created_at,creator_id:s.creator_id,progress:a,lastAccessedAt:i,playbackId:s.playback_id,enrollment:r}});return console.log(`Returning ${g.length} enrolled course(s)`),{data:g,error:null,count:m??0}}catch(e){return console.error("Failed to get enrolled courses:",e),{data:[],error:"Failed to fetch enrolled courses",count:0}}}async function o(e,r){if(!e)return console.log("No user ID provided"),{data:null,error:"User not authenticated"};if(!r)return console.log("No course ID provided"),{data:null,error:"Course ID is required"};try{let t;console.log(`Fetching enrollment for user: ${e} and course: ${r}`);let i=(0,s.createBrowserClient)("https://qrowzznnnarfogfbnnow.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFyb3d6em5ubmFyZm9nZmJubm93Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNjg1MzUsImV4cCI6MjA2NzY0NDUzNX0.MkCeFSLoOyGl-y1_eZTXTXXV8hGOJM7WuBV7gvLc_rI"),{data:o,error:n}=await i.from("enrollments").select(`
        id,
        status,
        enrolled_at,
        course:course_id (
          id,
          title,
          description,
          thumbnail_url,
          created_at,
          creator_id,
          playback_id,
          chapters
        )
      `).eq("user_id",e).eq("course_id",r).eq("status","active").single();if(n)return console.error("Supabase error:",n),{data:null,error:n.message};if(!o)return console.log("No enrollment found for user:",e,"and course:",r),{data:null,error:"Not enrolled in this course"};let l=Array.isArray(o.course)?o.course[0]:o.course,d=0;try{let{data:r,error:s}=await i.from("courses_progress").select("progress, updated_at").eq("user_id",e).eq("course_id",l.id).maybeSingle();!s&&r&&(d=Number(r.progress??0),t=r.updated_at??void 0)}catch(e){console.warn("Could not fetch persisted progress:",e)}let c=new Date().toISOString();return{data:{id:l.id,title:l.title,description:l.description,thumbnail_url:l.thumbnail_url,created_at:l.created_at,creator_id:l.creator_id,progress:d,lastAccessedAt:t??c,chapters:(0,a.UQ)(l.chapters),enrollment:{id:o.id,status:o.status,enrolled_at:o.enrolled_at},playbackId:l.playback_id},error:null}}catch(e){return console.error("Failed to get enrolled course:",e),{data:null,error:"Failed to fetch enrolled course"}}}}};